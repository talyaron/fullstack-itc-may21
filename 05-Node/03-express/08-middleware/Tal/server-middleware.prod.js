"use strict";var express=require("express"),app=express(),cookieParser=require("cookie-parser");function getName(e,o,s){console.log(e.cookies);var a=e.cookies.cookieName,n=JSON.parse(a);console.log(n),e.name=n.name,s()}function isRaziel(e,o,s){"Raziel"===e.name?s():o.status(401).send({error:"This is not Raziel!"})}app.use(express.json()),app.use(cookieParser()),app.use(express.static("public")),app.use(getName),app.get("/getData",getName,function(e,o){var s=e.name;console.log("req.name;",s);var a=JSON.stringify({name:"Raziel"});o.cookie("cookieName",a,{maxAge:3e8,httpOnly:!0}),o.send({ok:!0})}),app.get("/user",function(e,o){var s=e.name;console.log(s),o.send({name:s})}),app.listen(3e3,function(){console.log("listen on 3000")});