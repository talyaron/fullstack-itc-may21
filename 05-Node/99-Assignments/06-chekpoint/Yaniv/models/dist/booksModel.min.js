"use strict";exports.__esModule=!0,exports.Books=exports.Book=void 0;var uuidv4=require("uuid").v4,fs=require("fs"),path=require("path"),booksJsonPath=path.resolve(__dirname,"../books.json"),readBooksJson=function(){try{var o=fs.readFileSync(booksJsonPath);return JSON.parse(o)}catch(o){console.error(o.message)}},Book=function(o,t){this.bookUuid=uuidv4(),this.createdDate=new Date,this.title=o,this.author=t};exports.Book=Book;var Books=function(){function o(){this.books=readBooksJson()}return o.prototype.updateBooksJson=function(){try{fs.writeFileSync(booksJsonPath,JSON.stringify(this.books))}catch(o){console.error(o.message)}},o.prototype.addBook=function(o,t){try{var s=new Book(o,t),e=s.bookUuid;return this.books.push(s),this.updateBooksJson(),e}catch(o){console.error(o)}},o.prototype.searchBooks=function(o,t){try{var s=JSON.parse(JSON.stringify(this.books)),e=new RegExp(o,"gmi"),r=new RegExp(t,"gmi");return""===o&&""==t?s:(""!==o&&(s=this.books.filter(function(o){return e.test(o.title)})),""!==t&&(s=this.books.filter(function(o){return r.test(o.author)})),s)}catch(o){console.error(o)}},o}();exports.Books=Books;