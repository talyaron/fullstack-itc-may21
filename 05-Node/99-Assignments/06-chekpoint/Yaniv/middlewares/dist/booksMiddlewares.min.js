"use strict";exports.__esModule=!0,exports.doesBookExist=exports.validateBody=void 0;var Ajv=require("ajv"),ajv=new Ajv,addFormats=require("ajv-formats");addFormats(ajv);var _a=require("../../models/dist/booksModel"),Book=_a.Book,Books=_a.Books;function validateBody(t){try{return function(e,o,s){try{if(!ajv.validate(t,e.body))return void o.status(409).send("Something is not right with the data you entered. Please verify and try again.");s()}catch(e){console.error(e.message),o.status(500).send(e.message)}}}catch(e){console.error(e.message)}}function doesBookExist(e,o,s){try{var t=new Books,a=e.body,r=a.title,d=a.author;return void(0<t.searchBooks(r,d).length?o.status(409).send({message:"Book already exist. Can't proceed."}):s())}catch(e){console.error(e.message),o.status(500).send(e.message)}}exports.validateBody=validateBody,exports.doesBookExist=doesBookExist;