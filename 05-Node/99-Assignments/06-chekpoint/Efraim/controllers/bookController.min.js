var _a=require("../models/models"),Book=_a.Book,books=_a.books,_b=require("../models/bookModel"),searchWithRegExpTitle=_b.searchWithRegExpTitle,searchWithRegExpAuthor=_b.searchWithRegExpAuthor,updateBooks=_b.updateBooks;exports.addBook=function(o,e){try{var s=o.body,t=o.token,r=s.bookName,a=s.author,c=new Book(r,a);books.addBook(c),e.send({bookarray:books,token:t})}catch(o){console.log(o),e.status(400).send({error:o.message})}},exports.searchBookTitle=function(o,e){try{var s=o.body.searchTerm,t=searchWithRegExpTitle(s);e.send(t)}catch(o){console.log(o)}},exports.searchBookAuthor=function(o,e){try{var s=o.body.searchTerm,t=searchWithRegExpAuthor(s);e.send(t)}catch(o){console.log(o)}},exports.getAllBooks=function(o,e){try{e.send(books)}catch(o){console.log(o)}},exports.deleteBooks=function(o,e){try{var s=o.params.bookID,t=books.books.filter(function(o){return o.bookID!=s});books.books=t,e.send(books)}catch(o){console.log(o),e.status(400).send({error:o.message})}},exports.updateBook=function(o,e){try{var s=o.body,t=o.query.id,r=s.bookName,a=s.author;updateBooks(t,r,a),e.send(books)}catch(o){console.log(o),e.status(400).send({error:o.message})}};