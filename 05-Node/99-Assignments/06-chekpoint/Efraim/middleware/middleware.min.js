var Ajv=require("ajv"),ajv=new Ajv,addFormats=require("ajv-formats");addFormats(ajv);var jwt=require("jsonwebtoken"),dotenv=require("dotenv").config();exports.validateBody=function(a){try{return function(e,r,o){ajv.validate(a,e.body)?o():r.status(400).send(ajv.errors[0].message)}}catch(e){console.error(e)}},exports.createToken=function(e,r,o){try{var a=e.body,t=a.bookName,n=a.author,s=jwt.sign({bookName:t,author:n},process.env.SECRET_KEY,{expiresIn:"1h"});e.token=s,o()}catch(e){console.error(e)}};