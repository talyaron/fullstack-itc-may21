"use strict";exports.__esModule=!0,exports.deleteQuestion=exports.getQuestionsSurvey=exports.addQuestion=exports.deleteSurvey=exports.newSurvey=exports.getSurveys=void 0;var surveys_1=require("../models/surveys");function getSurveys(e,s){try{var u=e.params.emailLogIn,r=(new surveys_1.Surveys).findUserSurveys(u);s.send({message:"You get all the surveys from the user login",surveys:r})}catch(e){s.status(500).send(e.message)}}function newSurvey(e,s){var u=e.params.id,r=new surveys_1.Survey(u);(new surveys_1.Surveys).createSurvey(r),s.send({message:"A new Survey was added",survey:r})}function deleteSurvey(e,s){var u=e.params.uuid;(new surveys_1.Surveys).deleteSurvey(u);var r=e.cookies.userDetails,t=JSON.parse(r);s.send({message:"The survey was deleted",userInfo:t.email})}function addQuestion(e,s){var u=e.params.uuid,r=new surveys_1.Surveys,t=new surveys_1.Survey(r.findSurvey(u)),v=new surveys_1.Question(e.body.question);t.addQuestion(v),r.updateSurvey(t),s.send({message:"A new Question was added",survey:t})}function getQuestionsSurvey(e,s){var u=e.params.uuid,r=(new surveys_1.Surveys).findSurvey(u);s.send({survey:r})}function deleteQuestion(e,s){var u=e.params,r=u.id,t=u.uuid,v=new surveys_1.Surveys,n=new surveys_1.Survey(v.findSurvey(t));n.deleteQuestion(r),v.updateSurvey(n),s.send({message:"A question was deleted",survey:n})}exports.getSurveys=getSurveys,exports.newSurvey=newSurvey,exports.deleteSurvey=deleteSurvey,exports.addQuestion=addQuestion,exports.getQuestionsSurvey=getQuestionsSurvey,exports.deleteQuestion=deleteQuestion;