"use strict";exports.__esModule=!0,exports.deleteProduct=exports.editProduct=exports.addProduct=exports.editStoreName=exports.showProduct=exports.showProducts=exports.showStores=void 0;var _a=require("../../models/dist/storeModel"),Product=_a.Product,Store=_a.Store,_b=require("../../models/dist/usersModel"),CartProduct=_b.CartProduct,User=_b.User,Users=_b.Users;exports.showStores=function(e,r){try{var t=new Store;r.send({storeUuid:t.storeUuid,storeName:t.storeName})}catch(e){console.error(e),r.status(500).send(e.message)}},exports.showProducts=function(e,r){try{var t=e.isAdmin,o=e.params.storeUuid,s=new Store;"mall"===o&&(s.storeName="Virtual Mall"),r.send({store:s,isAdmin:t})}catch(e){console.error(e),r.status(500).send(e.message)}},exports.showProduct=function(e,r){try{var t=e.isAdmin,o=e.userIndex,s=e.cartProductIndex,d=e.productIndex,c=new Store,u=new Users,a=c.products[d],n=t||-1===s?void 0:u.users[o].cart[s];r.send({storeProduct:a,cartProduct:n,isAdmin:t})}catch(e){console.error(e),r.status(500).send(e.message)}},exports.editStoreName=function(e,r){},exports.addProduct=function(e,r){try{var t=e.body,o=(t.storeUuid,t.productName),s=t.productDescription,d=t.productPrice,c=(t.productImage,t.productInStock),u=new Store,a=e.file?e.file:void 0;u.addProduct(o,s,d,a,c),r.send({store:u})}catch(e){console.error(e),r.status(500).send(e.message)}},exports.editProduct=function(e,r){try{var t=e.body,o=(t.storeUuid,t.productName),s=t.productDescription,d=t.productPrice,c=(t.productImage,t.productInStock),u=new Store,a=e.params.productUuid,n=e.file?e.file:void 0;u.editProduct(a,o,s,d,n,c),r.send({productUpdate:!0})}catch(e){console.error(e),r.status(500).send(e.message)}},exports.deleteProduct=function(e,r){try{var t=new Store,o=e.params.productUuid;t.deleteProduct(o),r.send({deleteProduct:!0})}catch(e){console.error(e),r.status(500).send(e.message)}};