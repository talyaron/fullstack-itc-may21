"use strict";exports.__esModule=!0,exports.editProduct=exports.bringInfo=exports.deleteProduct=exports.getProduct=exports.postProduct=void 0;var productsModel_1=require("../models/productsModel"),fs=require("fs");exports.postProduct=function(o,r){var d=new productsModel_1.Product(o.body.id,o.body.name,o.body.description,o.body.pokeType,o.body.price,o.body.image),e=productsModel_1.addProduct(d);r.send({pokeProduct:e})},exports.getProduct=function(o,r){var d=productsModel_1.readProduct();r.send({pokeProduct:d})},exports.deleteProduct=function(o,r){var d=o.params.id,e=productsModel_1.readProduct().filter(function(o){return o.id!==d});fs.writeFileSync("./db/products.json",JSON.stringify(e)),r.send(e)},exports.bringInfo=function(o,r,d){var e=o.params.id,t=productsModel_1.readProduct().find(function(o){return o.id===e});r.send(t),d()},exports.editProduct=function(r,o){var d=r.body,e=d.name,t=d.description,s=d.pokeType,i=d.price,c=d.image,n=productsModel_1.readProduct(),u=n.find(function(o){return o.id===r.params.idProduct});u.name=e,u.description=t,u.pokeType=s,u.price=i,u.image=c,fs.writeFileSync("./db/products.json",JSON.stringify(n)),o.send({products:n})};