"use strict";exports.__esModule=!0,exports.getCart=exports.addToCart=void 0;var productsModel_1=require("../models/productsModel"),userModel_1=require("../models/userModel"),fs=require("fs");exports.addToCart=function(e,r){var o=e.params.id,s=productsModel_1.readProduct(),d=userModel_1.readUsers(),t=s.find(function(e){return e.id===o}),i=new userModel_1.Cart(t.ident,t.name,t.price,t.image),n=JSON.parse(e.cookies.cookieName).id;d.find(function(e){return e.id===n}).cart.push(i),fs.writeFileSync("./db/users.json",JSON.stringify(d)),r.send({cart:d})},exports.getCart=function(e,r){var o=userModel_1.readUsers(),s=JSON.parse(e.cookies.cookieName).id,d=o.find(function(e){return e.id===s});console.log(d),r.send(d)};