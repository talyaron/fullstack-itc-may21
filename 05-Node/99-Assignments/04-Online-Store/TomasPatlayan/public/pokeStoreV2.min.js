var idProduct,__awaiter=this&&this.__awaiter||function(e,i,c,d){return new(c=c||Promise)(function(t,n){function a(e){try{r(d.next(e))}catch(e){n(e)}}function o(e){try{r(d.throw(e))}catch(e){n(e)}}function r(e){var n;e.done?t(e.value):((n=e.value)instanceof c?n:new c(function(e){e(n)})).then(a,o)}r((d=d.apply(e,i||[])).next())})},__generator=this&&this.__generator||function(t,a){var o,r,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,r=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){c.label=n[1];break}if(6===n[0]&&c.label<i[1]){c.label=i[1],i=n;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(n);break}i[2]&&c.ops.pop(),c.trys.pop();continue}n=a.call(t,c)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},_this=this,formCreate=document.getElementById("formCreate"),btn=document.querySelector(".btn"),createProduct=function(c){return __awaiter(_this,void 0,void 0,function(){var n,t,a,o,r,i;return __generator(this,function(e){switch(e.label){case 0:return c.preventDefault(),n=c.target.elements.name.value,t=c.target.elements.description.value,a=c.target.elements.pokeType.value,o=c.target.elements.price.value,r=c.target.elements.image.value,[4,axios.post("/product/postProduct",{name:n,description:t,pokeType:a,price:o,image:r})];case 1:return i=e.sent(),console.log(i.data),c.target.reset(),renderPoke(i.data),[2]}})})};formCreate.addEventListener("submit",createProduct);var getProduct=function(){return __awaiter(_this,void 0,void 0,function(){var n,t;return __generator(this,function(e){switch(e.label){case 0:return[4,axios("/product/getProduct")];case 1:return n=e.sent(),t=n.data,console.log(t),renderPoke(t),[2]}})})},deletePoke=function(t){return __awaiter(_this,void 0,void 0,function(){var n;return __generator(this,function(e){switch(e.label){case 0:return[4,axios.post("/product/deleteProduct/"+t)];case 1:return n=e.sent(),getProduct(n),[2]}})})},renderPoke=function(e){var n=document.getElementById("root"),t="";e.pokeProduct.forEach(function(e){t+='\n\n     \n     <div class="pokemon">\n        <div class="pokemon__container">\n      \n        <div class="pokemon__container__image">\n        <img src="'+e.image+'" alt="">\n        </div>\n        <div class="pokemon__container__name">\n        <h2>'+e.name+'</h2>\n        </div>\n      \n        <div class="pokemon__container__description">\n        <h4>'+e.description+'</h4>\n        </div>\n      \n        <div class="pokemon__container__pokeType">\n        <h5>'+e.pokeType+'</h5>\n        </div>\n        \n        <div class="pokemon__container__price">\n        <p>$'+e.price+'</p>\n        </div>\n        <button type="button" class="btn btn-primary itemInfo" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@getbootstrap" onclick=\'editPoke("'+e.id+'")\' checked>Edit</button>\n        <div\n        class="modal fade"\n        id="exampleModal"\n        tabindex="-1"\n        aria-labelledby="exampleModalLabel"\n        aria-hidden="true">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title" id="exampleModalLabel">New message</h5>\n              <button\n                type="button"\n                class="btn-close"\n                data-bs-dismiss="modal"\n                aria-label="Close"\n              ></button>\n            </div>\n            <div class="modal-body">\n              <form id="formEdit" onsubmit="handleEdit(event)">\n                <div class="container__input-name">\n                  <legend>Pokemon Name</legend>\n                  <input type="text" name="name" class="name" />\n                </div>\n\n                <div class="container__input-imageUrl">\n                  <legend>Pokemon Description</legend>\n                  <textarea\n                    name="description"\n                    class="description"\n                    id="description"\n                    cols="30"\n                    rows="10"\n                  ></textarea>\n                </div>\n\n                <div class="container__input-typePoke">\n                  <legend>Pokemon Type</legend>\n                  <input type="text" name="pokeType"  class="pokeType"/>\n                </div>\n\n                <div class="container__input-price">\n                  <legend>Pokemon Price</legend>\n                  <input type="text" name="price" class="price" />\n                </div>\n\n                <div class="container__input-image">\n                  <legend>Pokemon Imag</legend>\n                  <input type="url" name="image" class="image" />\n                </div>\n\n                <div class="container__button">\n                  <button class="btn btn-warning" type="submit">Send</button>\n                </div>\n              </form>\n            </div>\n            <div class="modal-footer">\n              <button\n                type="button"\n                class="btn btn-secondary"\n                data-bs-dismiss="modal"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n        <button class ="btn btn-danger"  \'delete\' onclick=\'deletePoke("'+e.id+'")\'>X</button>\n        <div class="pokemon__container__buy-button">\n        <button  onclick=\'addCartProduct("'+e.id+"\")'>Buy</button>\n        </div>\n      \n        </div>\n    \n\n      </div>\n     \n    "}),n.innerHTML=t},editPoke=function(c){return __awaiter(_this,void 0,void 0,function(){var n,t,a,o,r,i;return __generator(this,function(e){switch(e.label){case 0:return[4,axios.get("/product/editProduct/"+c)];case 1:return n=e.sent(),t=document.querySelector(".name"),a=document.querySelector(".description"),o=document.querySelector(".pokeType"),r=document.querySelector(".price"),i=document.querySelector(".image"),t.value=n.data.name,a.value=n.data.description,o.value=n.data.pokeType,r.value=n.data.price,i.value=n.data.image,console.log(n),idProduct=c,[2]}})})},handleEdit=function(s){return __awaiter(_this,void 0,void 0,function(){var n,t,a,o,r,i,c,d;return __generator(this,function(e){switch(e.label){case 0:return s.preventDefault(),console.log(idProduct),n=s.target.elements.name.value,t=s.target.elements.description.value,a=s.target.elements.pokeType.value,o=s.target.elements.price.value,r=s.target.elements.image.value,i={name:n,description:t,pokeType:a,price:o,image:r},[4,axios.post("/product/edit/"+idProduct,i)];case 1:return c=e.sent(),console.log(i),d=c.data.products,getProduct(d),[2]}})})},addCartProduct=function(a){return __awaiter(_this,void 0,void 0,function(){var n,t;return __generator(this,function(e){switch(e.label){case 0:return[4,axios.post("/product/addToCart/"+a)];case 1:return n=e.sent(),t=n.data.cart,console.log(t),[2]}})})};getProduct();