var _a=require("../models/classes"),Product=_a.Product,products=_a.products,updateProductsModel=require("../models/adminmodels").updateProductsModel,multer=require("multer"),Ajv=require("ajv"),ajv=new Ajv;exports.updateProducts=function(e,r){try{var t=e.body,d=e.query.id,o=t.description,s=t.price;updateProductsModel(d,o,s),r.send("Success!")}catch(e){console.log(e),r.status(400).send({error:e.message})}},exports.deleteProduct=function(e,r){try{var t=e.params.productID,d=products.products.filter(function(e){return e.id!=t});products.products=d,r.send("deleted")}catch(e){console.error(e)}},exports.addProduct=function(e,r){try{var t=e.body,d=e.file.filename,o=t.price,s=t.description,c=JSON.parse(o),u=parseInt(c);products.addProduct(new Product("/images/"+d,s,u)),r.send("Success!")}catch(e){console.log(e),r.status(400).send({error:e.message})}};