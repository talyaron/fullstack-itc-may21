"use strict";exports.__esModule=!0,exports.getAllUser=exports.registerUser=void 0;var userModel_1=require("../model/userModel"),express=require("express"),app=express(),cookieParser=require("cookie-parser"),jwt=require("jsonwebtoken"),secret_1=require("../secret/secret");app.use(express.json()),app.use(cookieParser()),exports.registerUser=function(r,e){var s=r.body,o=s.name,t=s.color,n=s.image,a=new userModel_1.User(o,t,n),i=new userModel_1.Users;i.createUser(a);var l=userModel_1.readUsers().find(function(e){return e.name===r.body.name&&e.color===r.body.color}),u=jwt.sign(l,secret_1.secret);e.cookie("cookieName",JSON.stringify(u),{maxAge:101011010,httpOnly:!0}),e.send({message:"A new user has been register",allUsers:i})},exports.getAllUser=function(e,r){var s=new userModel_1.Users;console.log(s),r.send({message:"Geting all user Information",allUsers:s})};