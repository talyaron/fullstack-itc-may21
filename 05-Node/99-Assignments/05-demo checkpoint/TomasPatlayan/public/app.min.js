var identProduct,searchName,__awaiter=this&&this.__awaiter||function(e,i,o,l){return new(o=o||Promise)(function(t,n){function r(e){try{s(l.next(e))}catch(e){n(e)}}function a(e){try{s(l.throw(e))}catch(e){n(e)}}function s(e){var n;e.done?t(e.value):((n=e.value)instanceof o?n:new o(function(e){e(n)})).then(r,a)}s((l=l.apply(e,i||[])).next())})},__generator=this&&this.__generator||function(t,r){var a,s,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,s&&(i=2&n[0]?s.return:n[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,n[1])).done)return i;switch(s=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,s=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){o=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){o.label=n[1];break}if(6===n[0]&&o.label<i[1]){o.label=i[1],i=n;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(n);break}i[2]&&o.ops.pop(),o.trys.pop();continue}n=r.call(t,o)}catch(e){n=[6,e],s=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},_this=this,renderUser=function(e){return __awaiter(_this,void 0,void 0,function(){var n,t,r,a;return __generator(this,function(e){switch(e.label){case 0:return n=document.getElementById("root"),[4,axios.get("/user/getAllUsers")];case 1:return t=e.sent(),r=t.data.allUsers.users,a=r.map(function(e){return'\n        <div  style="background:'+e.color+';" class="user">\n        \n\n        <div class="user__image">\n         <img src="'+e.image+'" alt="imageUser">\n        </div>\n\n\n        <div class="user__name">\n        <p>'+e.name+"</p>\n        </div>\n    \n        <button onclick=\"delteUsers('"+e.id+'\')">Delete</button>\n        <button\n        type="button"\n        class="btn btn-primary itemInfo"\n        data-bs-toggle="modal"\n        data-bs-target="#exampleModal"\n        data-bs-whatever="@getbootstrap"\n        onclick=\'bringInfoUsers("'+e.id+'")\'\n        checked\n      >\n        Edit\n      </button>\n      <div\n        class="modal fade"\n        id="exampleModal"\n        tabindex="-1"\n        aria-labelledby="exampleModalLabel"\n        aria-hidden="true"\n      >\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title" id="exampleModalLabel">New message</h5>\n              <button\n                type="button"\n                class="btn-close"\n                data-bs-dismiss="modal"\n                aria-label="Close"\n              ></button>\n            </div>\n            <div class="modal-body">\n              <form id="formEdit" onsubmit="handleEditUser(event)">\n                <div class="container__input-name">\n                  <legend>Pokemon Name</legend>\n                  <input type="text" name="name" class="name" />\n                </div>\n                <input type="color" name="color" class="color" />\n\n                <input type="text" name="image" class="image" />\n      \n                <div class="container__button">\n                  <button class="btn btn-warning" type="submit">Send</button>\n                </div>\n              </form>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n\n        \n        </div>\n        '}).join(""),n.innerHTML=a,[2]}})})},getUser=function(){return __awaiter(_this,void 0,void 0,function(){var n,t;return __generator(this,function(e){switch(e.label){case 0:return[4,axios.get("/user/getAllUsers")];case 1:return n=e.sent(),t=n.data.allUsers.users,renderUser(t),[2]}})})},delteUsers=function(t){return __awaiter(_this,void 0,void 0,function(){var n;return __generator(this,function(e){switch(e.label){case 0:return[4,axios.post("/user/deleteUser/"+t)];case 1:return n=e.sent(),renderUser(n),[2]}})})},bringInfoUsers=function(s){return __awaiter(_this,void 0,void 0,function(){var n,t,r,a;return __generator(this,function(e){switch(e.label){case 0:return[4,axios.get("/user/bringInfoUser/"+s)];case 1:return n=e.sent(),t=document.querySelector(".name"),r=document.querySelector(".color"),a=document.querySelector(".image"),t.value=n.data.name,r.value=n.data.color,a.value=n.data.image,identProduct=s,[2]}})})},handleEditUser=function(o){return __awaiter(_this,void 0,void 0,function(){var n,t,r,a,s,i;return __generator(this,function(e){switch(e.label){case 0:return o.preventDefault(),n=o.target.elements.name.value,t=o.target.elements.color.value,r=o.target.elements.image.value,a={name:n,color:t,image:r},[4,axios.post("/user/updateUser/"+identProduct,a)];case 1:return s=e.sent(),i=s.data.allUsers,renderUser(i),[2]}})})};function searchByFirstnameAxios(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,axios.get("/user/searchByFirstname",n)];case 1:return[2,e.sent()]}})})}var inputSearch=document.querySelector("#search");function searchByFirstname(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,searchByFirstnameAxios({searchFirstname:inputSearch.value})];case 1:return n=e.sent(),console.log(n.data),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}})})}inputSearch.onkeyup=searchByFirstname,console.log(inputSearch.value),searchByFirstname(),getUser();