"use strict";exports.__esModule=!0,exports.Users=exports.User=void 0;var uuidv4=require("uuid").v4,fs=require("fs"),path=require("path"),usersJsonPath=path.resolve(__dirname,"../users.json"),readUsersJson=function(){try{var s=fs.readFileSync(usersJsonPath);return JSON.parse(s)}catch(s){console.error(s.message)}},User=function(s,r,e,t,n){this.userUuid=uuidv4(),this.email=s,this.username=r,this.password=e,this.imageUrl=t,this.favColor=n};exports.User=User;var Users=function(){function s(){this.users=readUsersJson()}return s.prototype.updateUsersJson=function(){try{fs.writeFileSync(usersJsonPath,JSON.stringify(this.users))}catch(s){console.error(s.message)}},s.prototype.findUserIndex=function(r,e){try{var s=r?this.users.findIndex(function(s){return s.userUuid===r}):this.users.findIndex(function(s){return s.email===e});if(-1===s&&r)throw new Error("no user with uuid "+r);return s}catch(s){console.error(s.message)}},s.prototype.addUser=function(s,r,e,t,n){try{var u=new User(s,r,e,t,n),o=u.userUuid;return this.users.push(u),this.updateUsersJson(),{userUuid:o}}catch(s){console.error(s.message)}},s}();exports.Users=Users;