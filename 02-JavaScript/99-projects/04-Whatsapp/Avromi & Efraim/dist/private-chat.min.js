var scrollBox=document.querySelector(".messages");function goBack(){window.location.href="index.html"}scrollBox.scrollTop=scrollBox.scrollHeight;var urlSearchParams=new URLSearchParams(window.location.search),params=Object.fromEntries(urlSearchParams.entries()),allContacts=JSON.parse(localStorage.getItem("contacts")),thisContact=allContacts.filter(function(t){return t.contactId===params.contactId}),contactName=document.querySelector(".nav__contact h2");contactName.innerHTML=""+thisContact[0].name;var contactImg=document.querySelector(".nav__img__wrapper");function updateLastSent(){document.querySelector(".nav__contact p").innerHTML="Last Sent: "+thisContact[0].chats[0].timeStamp+" "}function renderMessages(t){var e=document.querySelector(".messages"),a="";thisContact[0].chats.forEach(function(t){a+='<div class="single__message" oncontextmenu = "javascript:alert(\'success!\');return false;" >\n    <p>'+t.message+' </p>\n        <div class="single__message__timestamp"> '+t.timeStamp+" </div>\n            </div>",e.innerHTML=a})}function openCamera(){console.log("open the camera")}contactImg.innerHTML='<img class="nav__img"\nsrc="'+thisContact[0].imgUrl+'"\nalt = "" >';var form=document.querySelector(".form");function logSubmit(t){var e=t.target.elements.message.value,a=new Date,n={};n.message=e,n.timeStamp=a,thisContact[0].chats.push(n),console.log("Time stamp: timeStamp"+e),t.preventDefault(),t.target.reset(),renderMessages(thisContact),updateLastSent(),console.log(thisContact),console.log(allContacts),localStorage.setItem("contacts",JSON.stringify(allContacts))}form.addEventListener("submit",logSubmit),updateLastSent(),renderMessages(thisContact);