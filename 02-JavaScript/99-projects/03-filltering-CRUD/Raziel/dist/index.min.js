var rootHtml=document.querySelector("#root"),searchName=document.querySelector("#search"),genderNode=document.querySelectorAll(".gender");filterGender();var Contact=function(e,t,n,r,i){this.name=e,this.fname=t,this.phone=n,this.email=r,this.gender=i,this.id=this.id="id"+Math.random().toString(16).slice(2)},List=function(){function e(){this.contactList=[],this.filteredArray=[]}return e.prototype.addToList=function(e){try{this.contactList.push(e)}catch(e){console.log("Error")}},e.prototype.renderList=function(e){var t=e||this.contactList,n="";t.forEach(function(e){"male"==e.gender&&(n+='<div class = "record-item"><div class = "record-el">\n            <span>&#128113;&#127999;</span>\n        </div>'),"female"==e.gender&&(n+='<div class = "record-item"><div class = "record-el">\n            <span>&#128105;</span>\n        </div>'),"unicorn"==e.gender&&(n+='<div class = "record-item"><div class = "record-el">\n                <span>ü¶Ñ</span>\n            </div>'),"helicopter"==e.gender&&(n+='<div class = "record-item"><div class = "record-el">\n                <span>üöÅ</span>\n            </div>'),n+='<div class = "record-item">\n            <div class = "record-el">\n                <span>Name:'+e.name+' </span>\n            </div>\n            <div class = "record-el">\n                <span>Family Name:'+e.fname+' </span>\n            </div>\n            <div class = "record-el">\n                <span >Phone Number:'+e.phone+' </span>\n            </div>\n            <div class = "record-el">\n                <span>Email Address :'+e.email+' </span>\n            </div>\n            <button type = "button" id = "delete-btn" onclick=\'handelRemove("'+e.id+'")\'>\n                <span>\n                    <i class = "fas fa-trash"></i>\n                </span> Delete\n            </button>\n            <button type = "button" id = "delete-btn" onclick=\'editContact("'+e.id+'")\'>\n            <span>\n                <i class = "fas fa-trash"></i>\n            </span> Edit\n        </button>\n        </div>\n    </div>\n    </div>\n'}),rootHtml.innerHTML=n},e.prototype.deleteContact=function(t){this.contactList=this.contactList.filter(function(e){return e.id!==t}),this.renderList(null)},e.prototype.editContacts=function(t){var e=this.contactList.find(function(e){return e.id==t});e.name="DAN",console.log(e),this.renderList(this.contactList)},e.prototype.searchContact=function(e){var t=new RegExp(""+e,"i");this.filteredArray=this.contactList.filter(function(e){return t.test(e.name)}),this.renderList(this.filteredArray)},e.prototype.filterByGender=function(t){this.contactList="female"===t||"male"===t||"unicorn"===t||"helicopter"===t?this.filteredArray.filter(function(e){return e.gender===t}):this.filteredArray.filter(function(e){return"male"===e.gender||"female"===e.gender||"unicorn"===t||"helicopter"===t}),this.renderList(this.filteredArray)},e}(),lists=new List,handelForm=function(e){e.preventDefault();var t=e.target.elements.firstName.value,n=e.target.elements.lastName.value,r=e.target.elements.phone.value,i=e.target.elements.email.value,s=e.target.elements.gender.value;if(!new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,"gmi").test(i))throw alert("Your Email seems to be wrong. Please correct it or use a different Email address"),new Error("Wrong email address");if(!new RegExp(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/,"gmi").test(r))throw alert("Please enter a valid phone number"),new Error("Wrong phone number");var a=new Contact(t,n,r,i,s);lists.addToList(a),lists.renderList(null),console.log(lists),e.target.reset()},handelRemove=function(e){lists.deleteContact(e)},editContact=function(e){lists.editContacts(e),console.log("hey")};function handleKeyUp(){lists.searchContact(searchName.value)}searchName.addEventListener("keyup",handleKeyUp);var genderFilter=document.querySelector("#genderFilter");function filterGender(){genderNode.forEach(function(t){var e;t.checked&&(e=lists.contactList.filter(function(e){return e.gender==t.value}),lists.renderList(e))})}genderFilter.addEventListener("click",filterGender);